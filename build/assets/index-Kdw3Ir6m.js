import{i as N,d as f,a as m,r as o,j as e,B as h,f as j}from"./index-xxW3EWhZ.js";import{C as p}from"./Container-cHf7Nnv1.js";import{C as n}from"./Card-CM3nr3_2.js";import{C as v}from"./Checkbox-D4bzrRRN.js";import"./motion-D6jSWcB8.js";function k(){const{id:d}=N(),l=f(),i=m(t=>t.plans),b=m(t=>t.toggleProjectCompletion),[s,u]=o.useState(i.find(t=>t.id===d));if(o.useEffect(()=>{const t=i.find(a=>a.id===d);if(!t){l("/plans");return}u(t)},[d,i,l]),!s)return e.jsx(p,{size:"lg",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-text-muted",children:"–ü–ª–∞–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω..."}),e.jsx(h,{onClick:()=>l("/plans"),className:"mt-4",children:"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É"})]})})});const c=s.status==="active",r=s.projects.filter(t=>t.completed).length,x=Math.round(r/s.projects.length*100),g=()=>{const t={active:"bg-accent-emerald/20 text-accent-emerald border-accent-emerald/30",completed:"bg-accent-blue/20 text-accent-blue border-accent-blue/30",archived:"bg-glass-light text-text-muted border-glass-border"},a={active:"–ê–∫—Ç–∏–≤–Ω—ã–π",completed:"–ó–∞–≤–µ—Ä—à—ë–Ω",archived:"–ê—Ä—Ö–∏–≤–Ω—ã–π"};return e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full border backdrop-blur-sm ${t[s.status]}`,children:a[s.status]})};return e.jsx(p,{size:"lg",children:e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(h,{variant:"ghost",onClick:()=>l("/plans"),className:"mb-4",children:"‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É"}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold gradient-text mb-3",children:"–ü–ª–∞–Ω –Ω–∞ 90 –¥–Ω–µ–π"}),e.jsxs("p",{className:"text-lg text-text-secondary",children:[j(s.startDate)," - ",j(s.endDate)]})]}),g()]})]}),!c&&e.jsx(n,{variant:"gradient",accentColor:"purple",className:"mb-6",children:e.jsx("p",{className:"text-sm text-text-secondary",children:"üìñ –≠—Ç–æ—Ç –ø–ª–∞–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∞."})}),e.jsxs(n,{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm text-text-secondary mb-2",children:[e.jsxs("span",{children:[r," / ",s.projects.length," –ø—Ä–æ–µ–∫—Ç–æ–≤"]}),e.jsxs("span",{className:"font-semibold",children:[x,"%"]})]}),e.jsx("div",{className:"w-full bg-glass-light rounded-full h-3 border border-glass-border",children:e.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-glass-border",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-emerald",children:r}),e.jsx("div",{className:"text-xs text-text-secondary",children:"–ó–∞–≤–µ—Ä—à–µ–Ω–æ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:s.projects.length-r}),e.jsx("div",{className:"text-xs text-text-secondary",children:"–í —Ä–∞–±–æ—Ç–µ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:s.projects.length}),e.jsx("div",{className:"text-xs text-text-secondary",children:"–í—Å–µ–≥–æ"})]})]})]})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"font-semibold text-text-primary",children:["–ü—Ä–æ–µ–∫—Ç—ã (",s.projects.length,"):"]}),c&&e.jsx("p",{className:"text-sm text-text-muted",children:"–û—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ"})]}),e.jsx("div",{className:"space-y-3",children:s.projects.map((t,a)=>e.jsx("div",{className:`p-4 rounded-glass-sm border-2 transition-all ${t.completed?"bg-accent-emerald/10 border-accent-emerald/30":"bg-glass-light border-glass-border"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(v,{checked:t.completed,onChange:()=>c&&b(s.id,t.id),disabled:!c}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsxs("span",{className:"font-medium text-text-primary",children:["–ü—Ä–æ–µ–∫—Ç ",a+1]}),t.completed&&e.jsx("span",{className:"text-xs px-2 py-1 bg-accent-emerald/20 text-accent-emerald rounded-full font-medium border border-accent-emerald/30",children:"‚úì –ó–∞–≤–µ—Ä—à—ë–Ω"})]}),e.jsx("p",{className:`text-text-primary ${t.completed?"line-through opacity-75":""}`,children:t.title})]})]})},t.id))})]}),e.jsxs(n,{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞–Ω–µ:"}),e.jsxs("div",{className:"space-y-2 text-sm text-text-secondary",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"–°–æ–∑–¥–∞–Ω:"}),e.jsx("span",{className:"font-medium",children:new Date(s.createdAt).toLocaleDateString("ru-RU")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"–°—Ç–∞—Ç—É—Å:"}),e.jsxs("span",{className:"font-medium",children:[s.status==="active"&&"–ê–∫—Ç–∏–≤–Ω—ã–π",s.status==="completed"&&"–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π",s.status==="archived"&&"–ê—Ä—Ö–∏–≤–Ω—ã–π"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:"}),e.jsxs("span",{className:"font-medium",children:[Math.round((new Date(s.endDate).getTime()-new Date(s.startDate).getTime())/(1e3*60*60*24))," ","–¥–Ω–µ–π"]})]})]})]})]})})}export{k as default};
