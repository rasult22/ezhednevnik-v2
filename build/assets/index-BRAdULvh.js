import{d as u,l as x,r as c,j as e,B as r,f as n}from"./index-Bb7dJ0St.js";import{C as m}from"./Container-BtI9PQIc.js";import{C as d}from"./Card-C23A6YYX.js";import{T as g}from"./Textarea-DLfMdZ66.js";function w(){const l=u(),i=x(t=>t.canCreateReview),o=x(t=>t.createReview),[a,h]=c.useState(""),[s,p]=c.useState(null);c.useEffect(()=>{const t=i();p(t)},[i]);const j=()=>{if(!(s!=null&&s.allowed)||!a.trim()){alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ–±–∑–æ—Ä–∞");return}const t=s.lastCompletedDates,b=t[t.length-1],N=t[0];o(a,b,N),l("/reviews")};return s?e.jsx(m,{size:"lg",children:e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(r,{variant:"ghost",onClick:()=>l("/reviews"),className:"mb-4",children:"‚Üê –ù–∞–∑–∞–¥ –∫ –æ–±–∑–æ—Ä–∞–º"}),e.jsx("h1",{className:"text-4xl font-bold gradient-text mb-3",children:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä"}),e.jsx("p",{className:"text-lg text-text-secondary",children:"–£—Å–ø–µ—Ö–∏ –∑–∞ –Ω–µ–¥–µ–ª—é –ø–æ –≥–ª–∞–≤–Ω—ã–º 20% –∏ –≤–∞–∂–Ω—ã–µ –º—ã—Å–ª–∏"})]}),!s.allowed&&e.jsxs(d,{children:[e.jsxs("div",{className:"bg-accent-orange/10 border-l-4 border-accent-orange/50 p-4 rounded-glass-sm mb-6",children:[e.jsx("p",{className:"text-sm text-text-secondary mb-2",children:e.jsx("strong",{className:"text-text-primary",children:"‚è≥ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"})}),e.jsx("p",{className:"text-sm text-text-secondary",children:"–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±–∑–æ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å 7 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-text-secondary mb-2",children:[e.jsx("span",{children:"–ü—Ä–æ–≥—Ä–µ—Å—Å:"}),e.jsxs("span",{className:"font-semibold",children:[s.completedCount," / 7 –¥–Ω–µ–π"]})]}),e.jsx("div",{className:"w-full bg-glass-light rounded-full h-3 border border-glass-border",children:e.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-300",style:{width:`${s.completedCount/7*100}%`}})})]}),s.lastCompletedDates.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary mb-3",children:"–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –¥–Ω–∏:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.lastCompletedDates.map(t=>e.jsx("span",{className:"px-3 py-1 bg-accent-emerald/20 text-accent-emerald text-sm rounded-full border border-accent-emerald/30",children:n(t)},t))})]}),s.lastCompletedDates.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-3",children:"üìÖ"}),e.jsx("p",{className:"text-text-secondary",children:"–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –¥–Ω–µ–π. –ù–∞—á–Ω–∏—Ç–µ –∑–∞–ø–æ–ª–Ω—è—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É!"}),e.jsx(r,{onClick:()=>l("/daily"),className:"mt-4",children:"–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–º—É –¥–Ω—é"})]})]}),s.allowed&&e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"mb-6",children:e.jsxs("div",{className:"bg-accent-emerald/10 border-l-4 border-accent-emerald/50 p-4 rounded-glass-sm",children:[e.jsx("p",{className:"text-sm text-text-secondary",children:e.jsx("strong",{className:"text-text-primary",children:"‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –æ–±–∑–æ—Ä–∞!"})}),e.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["–ü–µ—Ä–∏–æ–¥ –æ–±–∑–æ—Ä–∞:"," ",e.jsxs("strong",{children:[n(s.lastCompletedDates[s.lastCompletedDates.length-1])," ","-"," ",n(s.lastCompletedDates[0])]})]})]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ–±–∑–æ—Ä–∞:"}),e.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"–û–ø–∏—à–∏—Ç–µ –≤–∞—à–∏ —É—Å–ø–µ—Ö–∏ –∑–∞ –Ω–µ–¥–µ–ª—é, –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã, –≤–∞–∂–Ω—ã–µ –º—ã—Å–ª–∏, —Ä–∞—Å—á—ë—Ç—ã –∏ –ø–ª–∞–Ω—ã. –≠—Ç–æ –≤–∞—à–∞ —Ä–µ—Ñ–ª–µ–∫—Å–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞."})]}),e.jsx(g,{value:a,onChange:t=>h(t.target.value),rows:15,placeholder:`–ù–∞–ø—Ä–∏–º–µ—Ä:

‚Ä¢ –ì–ª–∞–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–µ–¥–µ–ª–∏:
  - –ó–∞–ø—É—Å—Ç–∏–ª –Ω–æ–≤—É—é —Ä–µ–∫–ª–∞–º–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é
  - –ü—Ä–æ–≤—ë–ª 5 –≤—Å—Ç—Ä–µ—á —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏

‚Ä¢ –ò–Ω—Å–∞–π—Ç—ã:
  - –ö–ª–∏–µ–Ω—Ç—ã –±–æ–ª—å—à–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏
  - –ù—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤

‚Ä¢ –†–∞—Å—á—ë—Ç—ã –∏ –ø–ª–∞–Ω—ã:
  - –í—ã—Ä—É—á–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é: 150 000 —Ä—É–±
  - –ü–ª–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é: –≤—ã–π—Ç–∏ –Ω–∞ 200 000 —Ä—É–±`,className:"w-full"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["–°–∏–º–≤–æ–ª–æ–≤: ",a.length]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-text-primary mb-3",children:["–í–∫–ª—é—á—ë–Ω–Ω—ã–µ –¥–∞—Ç—ã (",s.lastCompletedDates.length,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.lastCompletedDates.map(t=>e.jsx("span",{className:"px-3 py-1 bg-accent-purple/20 text-accent-purple text-sm rounded-full border border-accent-purple/30",children:n(t)},t))})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-glass-border",children:[e.jsx(r,{variant:"ghost",onClick:()=>l("/reviews"),children:"–û—Ç–º–µ–Ω–∏—Ç—å"}),e.jsx(r,{variant:"primary",onClick:j,disabled:!a.trim(),size:"lg",children:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±–∑–æ—Ä"})]})]})})]})]})}):e.jsx(m,{size:"lg",children:e.jsx("div",{className:"py-8",children:e.jsx("p",{className:"text-center text-text-muted",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})})})}export{w as default};
