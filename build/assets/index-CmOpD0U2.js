import{r as m,j as e,f as v,B as i,d as M,b as y,a as E,g as C,c as I}from"./index-D89efSz-.js";import{C as O}from"./Container-BLIzj8-Z.js";import{C as g}from"./Card-BPXjrVVQ.js";import{I as f}from"./Input-BiSgoyO0.js";import{M as R}from"./Modal-BO1yRnXX.js";import{C as $}from"./Checkbox-Brx7JGkU.js";import"./index-DvIxft2D.js";import"./motion-DFHPIedF.js";function A({previousPlan:c,onTransfer:d,onSkip:x}){const[l,p]=m.useState(new Set(c.projects.filter(t=>!t.completed).map(t=>t.title))),h=t=>{const n=new Set(l);n.has(t)?n.delete(t):n.add(t),p(n)},j=()=>{d(Array.from(l))};return e.jsx(R,{isOpen:!0,onClose:x,title:"–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–ª–∞–Ω–∞?",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-accent-blue/10 border-l-4 border-accent-blue/50 p-4 rounded-glass-sm",children:e.jsx("p",{className:"text-sm text-text-secondary",children:"–£ –≤–∞—Å –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ. –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –≤ –Ω–æ–≤—ã–π –ø–ª–∞–Ω."})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary mb-2",children:"–ü—Ä–µ–¥—ã–¥—É—â–∏–π –ø–ª–∞–Ω:"}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[v(c.startDate)," -"," ",v(c.endDate)]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞:"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto custom-scrollbar",children:c.projects.map(t=>e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-glass-sm border transition-all ${t.completed?"bg-glass-light border-glass-border opacity-60":"bg-glass-light border-glass-border hover:border-accent-blue/30"}`,children:[e.jsx($,{checked:l.has(t.title),onChange:()=>h(t.title),disabled:t.completed}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${t.completed?"line-through text-text-muted":"text-text-primary"}`,children:t.title}),t.completed&&e.jsx("p",{className:"text-xs text-accent-emerald mt-1",children:"‚úÖ –£–∂–µ –∑–∞–≤–µ—Ä—à—ë–Ω"})]})]},t.id))})]}),e.jsx("div",{className:"bg-glass-light p-4 rounded-glass-sm border border-glass-border",children:e.jsxs("p",{className:"text-sm text-text-secondary",children:["–í—ã–±—Ä–∞–Ω–æ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞:"," ",e.jsxs("strong",{className:"text-text-primary",children:[l.size," –ø—Ä–æ–µ–∫—Ç–æ–≤"]})]})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-glass-border",children:[e.jsx(i,{variant:"ghost",onClick:x,children:"–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–Ω–æ—Å"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{variant:"secondary",onClick:x,children:"–ù–∞—á–∞—Ç—å —Å –Ω—É–ª—è"}),e.jsxs(i,{variant:"primary",onClick:j,disabled:l.size===0,children:["–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ (",l.size,")"]})]})]})]})})}function J(){const c=M(),d=y(s=>s.activePlan),x=y(s=>s.createPlan),l=E(s=>s.goals.oneYear),[p,h]=m.useState(!1),[j,t]=m.useState(C()),[n,S]=m.useState(I(C(),90)),[a,b]=m.useState(["","",""]);m.useEffect(()=>{d&&h(!0)},[d]);const w=(s,r)=>{const o=[...a];o[s]=r,b(o)},P=()=>{a.length<8&&b([...a,""])},k=s=>{a.length>3&&b(a.filter((r,o)=>o!==s))},D=s=>{b([...s,"","",""]),h(!1)},z=()=>{h(!1)},T=()=>{const s=a.filter(r=>r.trim()!=="");if(s.length<3){alert("–ú–∏–Ω–∏–º—É–º 3 –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞");return}if(new Date(n)<=new Date(j)){alert("–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞");return}x(j,n,s),c("/plans")},N=a.filter(s=>s.trim()!=="").length,u=N>=3;return e.jsx(O,{size:"lg",children:e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold gradient-text mb-3",children:"–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –Ω–∞ 90 –¥–Ω–µ–π"}),e.jsx("p",{className:"text-lg text-text-secondary",children:"–í—ã–±–µ—Ä–∏—Ç–µ 3-6 –≥–ª–∞–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª"})]}),d&&e.jsx(g,{variant:"gradient",accentColor:"orange",className:"mb-6",children:e.jsxs("p",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{className:"text-text-primary",children:"‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:"})," –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ —Ç–µ–∫—É—â–∏–π –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏."]})}),e.jsxs(g,{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"–ü–µ—Ä–∏–æ–¥ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:"}),e.jsx(f,{type:"date",value:j,onChange:s=>t(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:"}),e.jsx(f,{type:"date",value:n,onChange:s=>S(s.target.value)})]})]})]}),e.jsxs(g,{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"–ü—Ä–æ–µ–∫—Ç—ã (3-8):"}),e.jsx("div",{className:"bg-accent-orange/10 border border-accent-orange/30 p-4 rounded-glass-sm mb-4",children:e.jsxs("p",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{className:"text-text-primary",children:"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:"}),' –§–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä: "–°–æ–∑–¥–∞–ª —Å–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏", "–ù–∞–±—Ä–∞–ª 10 –∫–ª–∏–µ–Ω—Ç–æ–≤", "–ó–∞–≤–µ—Ä—à–∏–ª —Ä–µ–º–æ–Ω—Ç".']})}),e.jsx("div",{className:"space-y-3 mb-4",children:a.map((s,r)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"text-text-muted font-medium w-6",children:[r+1,"."]}),e.jsx("div",{className:"flex-1",children:e.jsx(f,{value:s,onChange:o=>w(r,o.target.value),placeholder:`–ü—Ä–æ–µ–∫—Ç ${r+1}...`})}),a.length>3&&e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>k(r),className:"text-text-muted hover:text-danger",children:"‚úï"})]},r))}),a.length<8&&e.jsx(i,{variant:"secondary",onClick:P,children:"+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"})]}),e.jsxs(g,{className:"mb-6",children:[e.jsxs("p",{className:"text-sm text-text-secondary",children:["–ó–∞–ø–æ–ª–Ω–µ–Ω–æ –ø—Ä–æ–µ–∫—Ç–æ–≤:"," ",e.jsxs("strong",{children:[N," / –º–∏–Ω–∏–º—É–º 3"]})]}),!u&&e.jsx("p",{className:"text-sm text-warning mt-2",children:"‚ö†Ô∏è –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –º–∏–Ω–∏–º—É–º 3 –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{variant:"secondary",onClick:()=>c("/plans"),children:"–û—Ç–º–µ–Ω–∞"}),e.jsx(i,{onClick:T,disabled:!u,size:"lg",children:"–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω"})]})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"sticky top-4",children:e.jsxs(g,{children:[e.jsx("h3",{className:"text-sm font-semibold text-text-primary mb-4",children:"üéØ –í–∞—à–∏ —Ü–µ–ª–∏ –Ω–∞ 1 –≥–æ–¥:"}),l.length>0?e.jsx("ul",{className:"space-y-3",children:l.map(s=>e.jsx("li",{className:"text-sm text-text-secondary leading-snug pb-3 border-b border-glass-border-light last:border-0",children:s.content||e.jsx("em",{className:"text-text-muted",children:"–ü—É—Å—Ç–æ"})},s.id))}):e.jsx("p",{className:"text-sm text-text-muted italic",children:"–¶–µ–ª–∏ –Ω–∞ 1 –≥–æ–¥ –Ω–µ —É–∫–∞–∑–∞–Ω—ã"})]})})})]}),p&&d&&e.jsx(A,{previousPlan:d,onTransfer:D,onSkip:z})]})})}export{J as default};
